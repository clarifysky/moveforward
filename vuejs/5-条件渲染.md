# 条件渲染

## v-if

在字符串模版中，例如，处理条，我们可能会写像这样的一个条件代码块：

```html
<!-- Handlebars template -->
{{#if ok}}
  <h1>Yes</h1>
{{/if}}
```

在Vue.js中，我们可以使用`v-if`指令来达到相同的目的：

```html
<h1 v-if="ok">Yes</h1>
```

也可以使用`v-else`来添加一个"else"代码块：

```html
<h1 v-if="ok">Yes</h1>
<h1 v-else>No</h1>
```

## 模版v-if

因为`v-if`是个指令，它必须依附于单个元素。但如果我们要切换超过一个元素的话要怎么做呢？在这种情况下，我们可以在`<template>`元素上使用`v-if`，`<template>`扮演了一个容器。最终渲染的结果不会包含`<template>`元素。

```html
<template v-if="ok">
  <h1>Title</h1>
  <p>Paragraph 1</p>
  <p>Paragraph 2</p>
</template>
```

## v-show

另外一个条件式地显示元素的指令是`v-show`，用法大部分相同：

```html
<h1 v-show="ok">Hello!</h1>
```

区别是，带有`v-show`的元素将总是被渲染并驻留在DOM中；`v-show`只是简单地切换了那个元素的`display`CSS属性。

注意，`v-show`不支持`<template>`语法。

## v-else

你可以使用`v-else`来给`v-if`或`v-show`指明一个“else代码块”：

```html
<div v-if="Math.random() > 0.5">
  Sorry
</div>
<div v-else>
  Not sorry
</div>
```

`v-else`元素必须立即跟随在`v-if`或`v-show`元素后面——否则，它将不会被识别。

### 组件警示

当带有`v-show`，`v-else`的组件没有被正确地应用时，可能是因为指令优先权的问题。所以将下面这样的做法替换掉：

```html
<custom-component v-show="condition"></custom-component>
<p v-else>This could be a component too</p>
```

将`v-else`替换为另外一个`v-show`：

```html
<custom-component v-show="condition"></custom-component>
<p v-show="!condition">This could be a component too</p>
```

它会和`v-if`一样工作。

## v-if vs. v-show

当一个`v-if`代码块被切换了，Vue.js必须实施部分的编译/拆解进程，因为`v-if`内的模版内容可能包含数据绑定或子组件。`v-if`是真正的条件渲染，因为它确保了条件代码块内的事件监听器和子组件在切换时能够正确地销毁和重构。

`v-if`还是**懒惰的**：如果在初始渲染的时候条件是false，他不会做任何事情——对于第一次来说，部分编译不会开始，直到条件变成true（并且编译随后会被缓存）。

对比来说，`v-show`更加简单——元素总是被编译和驻留，带有简单的基于CSS的切换。

一般来讲，`v-if`有更高的切换消耗，`v-show`有更高的初始化渲染消耗。所有，当你需要频繁切换某事的时候推荐使用`v-show`，当条件在运行时不太可能更改时推荐使用`v-if`。
